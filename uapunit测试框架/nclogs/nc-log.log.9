[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 插入表：default版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：default版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 插入表：default版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：default版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 插入表：default版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：default版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 插入表：default版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：default版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - load module default error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 插入表：ec版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ec版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 插入表：ec版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ec版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 插入表：ec版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ec版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 插入表：ec版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ec版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - load module ec error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 插入表：gl版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：gl版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 插入表：gl版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：gl版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 插入表：gl版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：gl版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 插入表：gl版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：gl版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - load module gl error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 插入表：hrrpt版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrrpt版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 插入表：hrrpt版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrrpt版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 插入表：hrrpt版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrrpt版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 插入表：hrrpt版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrrpt版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - load module hrrpt error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:15 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:15 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：hrwa版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrwa版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：hrwa版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrwa版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：hrwa版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrwa版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：hrwa版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrwa版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - load module hrwa error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：ic版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ic版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：ic版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ic版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：ic版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ic版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：ic版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ic版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - load module ic error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：resa版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：resa版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：resa版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：resa版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：resa版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：resa版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：resa版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：resa版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - load module resa error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：scmpub版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：scmpub版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：scmpub版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：scmpub版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：scmpub版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：scmpub版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：scmpub版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：scmpub版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - load module scmpub error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：ufoe版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ufoe版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：ufoe版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ufoe版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：ufoe版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ufoe版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：ufoe版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ufoe版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.bs.iufo.base.BaseSPService.getProviderConfigRegisters(BaseSPService.java:280)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:118)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - load module ufoe error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：aim版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：aim版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：aim版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：aim版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：aim版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：aim版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 插入表：aim版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：aim版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - load module aim error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:16 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:16 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 插入表：aim版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：aim版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 插入表：aim版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：aim版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 插入表：aim版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：aim版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 插入表：aim版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：aim版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - load module aim error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 插入表：arap版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：arap版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 插入表：arap版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：arap版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 插入表：arap版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：arap版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 插入表：arap版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：arap版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - load module arap error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:17 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：arap版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：arap版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：arap版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：arap版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：arap版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：arap版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：arap版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：arap版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - load module arap error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：default版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：default版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：default版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：default版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：default版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：default版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：default版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：default版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - load module default error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：default版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：default版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：default版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：default版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：default版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：default版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：default版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：default版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - load module default error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：ec版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ec版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：ec版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ec版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：ec版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ec版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：ec版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ec版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - load module ec error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：ec版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ec版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：ec版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ec版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：ec版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ec版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：ec版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ec版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - load module ec error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：gl版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：gl版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：gl版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：gl版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：gl版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：gl版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：gl版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：gl版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - load module gl error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：gl版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：gl版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：gl版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：gl版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：gl版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：gl版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 插入表：gl版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：gl版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - load module gl error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:18 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：hrrpt版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrrpt版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：hrrpt版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrrpt版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：hrrpt版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrrpt版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：hrrpt版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrrpt版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - load module hrrpt error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：hrrpt版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrrpt版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：hrrpt版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrrpt版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：hrrpt版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrrpt版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：hrrpt版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrrpt版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - load module hrrpt error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：hrwa版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrwa版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：hrwa版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrwa版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：hrwa版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrwa版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：hrwa版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrwa版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - load module hrwa error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：hrwa版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrwa版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：hrwa版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrwa版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：hrwa版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrwa版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：hrwa版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：hrwa版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - load module hrwa error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：ic版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ic版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：ic版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ic版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：ic版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ic版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：ic版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ic版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - load module ic error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：ic版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ic版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：ic版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ic版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：ic版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ic版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：ic版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:140)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：ic版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - db error!
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:71)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1051)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:64)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:429)
	at nc.md.common.MetaDataDAO.queryObjectByCond(MetaDataDAO.java:73)
	at nc.md.persist.manager.ModuleDAO.queryModuleByID(ModuleDAO.java:31)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:143)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:130)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - load module ic error:Exception occured in query MataData$$@can not find datasource: design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：resa版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:132)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：resa版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - get oid error,the error is can not find datasource: design
java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 插入表：resa版本记录时出现异常!
java.lang.RuntimeException: get oid error,the error iscan not find datasource: design
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:156)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询版本出错
nc.vo.pub.BusinessRuntimeException: getVersions failed!
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:46)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:134)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: nc.bs.dbcache.exception.DBCacheException: 插入表：resa版本记录时出现异常!
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:125)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	... 56 more
 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 版本缓存区域名：version_-1536953722_design 
[main] 2012/11/27 13:39:19 [ncjca] DEBUG  - 执行获取缓存表版本的查询SQL:select CacheTabVersion from BD_cachetabversion where CacheTabName=? 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - 查询表版本时出现异常!
nc.bs.dbcache.exception.DBCacheException: exception caught while run query.can not find datasource: design
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:91)
	at nc.bs.dbcache.ServerVersionManager.queryVersionFromDB(ServerVersionManager.java:159)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:117)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
Caused by: java.lang.RuntimeException: can not find datasource: design
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:198)
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:156)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:26)
	at nc.bs.dbcache.impl.ServerDBFacade.getConnection(ServerDBFacade.java:85)
	at nc.bs.dbcache.dao.AbstractDao.runQuery(AbstractDao.java:87)
	... 60 more
 
[main] 2012/11/27 13:39:19 [ncjca] ERROR  - can not find datasourcedesign
java.lang.ClassCastException: nc.bs.mw.ejb.xares.IerpXADataSource cannot be cast to javax.sql.DataSource
	at nc.jdbc.framework.DataSourceCenter.getConnection(DataSourceCenter.java:194)
	at nc.jdbc.framework.ConnectionFactory.getConnection(ConnectionFactory.java:52)
	at nc.jdbc.framework.JdbcSession.<init>(JdbcSession.java:91)
	at nc.jdbc.framework.JdbcPersistenceManager.init(JdbcPersistenceManager.java:1053)
	at nc.jdbc.framework.JdbcPersistenceManager.<init>(JdbcPersistenceManager.java:77)
	at nc.jdbc.framework.PersistenceManager.getInstance(PersistenceManager.java:443)
	at nc.impl.uap.OidGeneratorBS.createOidBase_RequiresNew(OidGeneratorBS.java:136)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:133)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:160)
	at nc.bs.uap.oid.OidGenerator.nextOid(OidGenerator.java:76)
	at nc.bs.dbcache.impl.DBCacheBS.insertATableVersion_RequiresNew(DBCacheBS.java:117)
	at nc.bs.dbcache.ServerVersionManager.insertATableVersion(ServerVersionManager.java:264)
	at nc.bs.dbcache.ServerVersionManager.getVersion(ServerVersionManager.java:121)
	at nc.bs.dbcache.ServerVersionManager.getVersions(ServerVersionManager.java:139)
	at nc.bs.dbcache.impl.CacheVersionBS.getVersions(CacheVersionBS.java:44)
	at nc.bs.dbcache.impl.ServerVersionCache.getNewVersion(ServerVersionCache.java:105)
	at nc.bs.dbcache.impl.ServerVersionCacheService.getNewVersion(ServerVersionCacheService.java:13)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.getNewVersion(ResourceCacheVersionMonitor.java:64)
	at nc.vo.cache.ext.ResourceCacheVersionMonitor.isCacheOutOfDate(ResourceCacheVersionMonitor.java:102)
	at nc.vo.cache.ext.ObjectCacheVersionMonitor.isCacheOutOfDate(ObjectCacheVersionMonitor.java:23)
	at nc.vo.cache.ext.ElementVersionSensitiveMap.get(ElementVersionSensitiveMap.java:63)
	at nc.md.persist.manager.cache.MdCachePool.getModuleByID(MdCachePool.java:207)
	at nc.md.persist.manager.cache.MdCachePoolProxy.getModuleByID(MdCachePoolProxy.java:137)
	at nc.md.persist.manager.MetaDataQueryServiceImp.getModuleByName(MetaDataQueryServiceImp.java:56)
	at nc.md.MDBaseQueryFacade.getModuleByName(MDBaseQueryFacade.java:361)
	at nc.vo.smart.config.ProviderConfigRegister.getModuleName(ProviderConfigRegister.java:51)
	at nc.pub.smart.cache.SmartConfigLoader.loadAll(SmartConfigLoader.java:126)
	at nc.bs.iufo.base.BaseSPService.loadGlobalConfig(BaseSPService.java:470)
	at nc.pub.smart.cache.GlobalConfigCache.loadGlobalConfig(GlobalConfigCache.java:55)
	at nc.pub.smart.cache.GlobalConfigCache.init(GlobalConfigCache.java:63)
	at nc.pub.smart.cache.GlobalConfigCache.getInstance(GlobalConfigCache.java:44)
	at nc.pub.smart.cache.GlobalConfigCache.getGlobalConfig(GlobalConfigCache.java:106)
	at nc.pub.smart.cache.GlobalConfigCache.getSmartConfig(GlobalConfigCache.java:124)
	at nc.pub.smart.cache.SmartConfigCache.getDsName4Design(SmartConfigCache.java:35)
	at nc.pub.smart.util.SmartUtilities.getDefDsName(SmartUtilities.java:142)
	at nc.pub.bi.clusterscheduler.SchedulerParameterCache.getInstance(SchedulerParameterCache.java:34)
	at nc.bs.pub.bi.perfwatch.PerfBSStore.start(PerfBSStore.java:310)
	at nc.bs.framework.core.AbstractGenericContainer.startActive(AbstractGenericContainer.java:414)
	at nc.bs.framework.core.AbstractGenericContainer.internalStart(AbstractGenericContainer.java:290)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:247)
	at nc.bs.framework.core.AbstractDeployer.start(AbstractDeployer.java:69)
	at nc.bs.framework.server.deploy.ModulesMonitor.deploy(ModulesMonitor.java:211)
	at nc.bs.framework.server.deploy.ModulesMonitor.scanModules(ModulesMonitor.java:182)
	at nc.bs.framework.server.deploy.ModulesMonitor.start(ModulesMonitor.java:83)
	at nc.bs.framework.server.BusinessAppServer.afterInternalStart(BusinessAppServer.java:481)
	at nc.bs.framework.core.AbstractGenericContainer.start(AbstractGenericContainer.java:248)
	at com.yonyou.uat.context.impl.BusinessServerManagerImpl.StartUpServer(BusinessServerManagerImpl.java:51)
	at workflowapp.nc.tc.util.BaseTestCase.baseBeforeSuite(BaseTestCase.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:551)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:277)
	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)
	at org.testng.TestNG.run(TestNG.java:1022)
	at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:109)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:202)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:173)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.jdt.internal.launching.LongCommandLineLauncher.main(LongCommandLineLauncher.java:43)
 
